{"ast":null,"code":"var _jsxFileName = \"/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/src/components/EditNotifications/EditNotifications.tsx\";\nimport React from 'react';\nimport './EditNotifications.css';\nimport BaseButton from '../BaseButton/BaseButton';\nimport SecondaryButton from \"../../components/SecondaryButton/SecondaryButton\";\nimport { pushProfile, getProfile } from '../../firebaseConfig';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { toast } from '../../toast';\n\nfunction EditNotifications(props) {\n  const {\n    toggleState\n  } = props;\n  const {\n    currentUser\n  } = useAuth();\n  const [calPolyStatus, setCalPolyStatus] = React.useState('');\n  const [biologicalSex, setBiologicalSex] = React.useState('');\n  const [genderIdentification, setGenderIdentification] = React.useState('');\n  const [ethnicity, setEthnicity] = React.useState('');\n  const [disability, setDisability] = React.useState('');\n  const [age, setAge] = React.useState('');\n  const [indoorThermalPreference, setIndoorThermalPreference] = React.useState('');\n  const [response, setResponse] = React.useState('');\n  React.useEffect(() => {\n    //populate with current profile data if any\n    getProfile(currentUser.email).then(document => {\n      if (document.exists) {\n        const profileData = document.data();\n        console.log(profileData);\n\n        if (profileData) {\n          setCalPolyStatus(profileData.calPolyStatus);\n          setBiologicalSex(profileData.biologicalSex);\n          setGenderIdentification(profileData.genderIdentification);\n          setEthnicity(profileData.ethnicity);\n          setDisability(profileData.disability);\n          setAge(profileData.age);\n          setEconomicSituation(profileData.economicSituation);\n          setChildhoodClimate(profileData.childhoodClimate);\n          setIndoorThermalPreference(profileData.indoorThermalPreference);\n          setResponse(profileData.response);\n        }\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n  }, []);\n  let canSubmit = true;\n  let profileData = {};\n\n  function postProfile() {\n    if (currentUser) {\n      calPolyStatus != '' ? profileData.calPolyStatus = calPolyStatus : canSubmit = false;\n      biologicalSex != '' ? profileData.biologicalSex = biologicalSex : canSubmit = false;\n      genderIdentification != '' ? profileData.genderIdentification = genderIdentification : canSubmit = false;\n      ethnicity != '' ? profileData.ethnicity = ethnicity : canSubmit = false;\n      disability != '' ? profileData.disability = disability : canSubmit = false;\n      age != '' ? profileData.age = age : canSubmit = false;\n      economicSituation != '' ? profileData.economicSituation = economicSituation : canSubmit = false;\n      childhoodClimate != '' ? profileData.childhoodClimate = childhoodClimate : canSubmit = false;\n      indoorThermalPreference != '' ? profileData.indoorThermalPreference = indoorThermalPreference : canSubmit = false;\n      profileData.response = response;\n\n      if (canSubmit) {\n        try {\n          pushProfile(profileData, currentUser.email);\n          toast(`Thank you! Profile edited successfully.`);\n        } catch (error) {\n          toast(`Error editing profile: ${error}`);\n        }\n\n        toggleState();\n      } else {\n        toast('Please answer all of the non-optional questions before submitting.');\n      }\n    }\n  }\n\n  const calPolyStatusList = [{\n    id: 1,\n    val: 'Student'\n  }, {\n    id: 2,\n    val: 'Faculty'\n  }];\n  const biologicalSexList = [{\n    id: 1,\n    val: 'Male'\n  }, {\n    id: 2,\n    val: 'Female'\n  }, {\n    id: 3,\n    val: 'Intersex'\n  }, {\n    id: 4,\n    val: 'Prefer Not to Say'\n  }];\n  const genderIdentificationList = [{\n    id: 1,\n    val: 'Male'\n  }, {\n    id: 2,\n    val: 'Female'\n  }, {\n    id: 3,\n    val: 'Non-binary/Genderqueer'\n  }, {\n    id: 4,\n    val: 'Gender Fluid'\n  }, {\n    id: 5,\n    val: 'Other'\n  }, {\n    id: 6,\n    val: 'Prefer Not to Say'\n  }];\n  const ethnicityList = [{\n    id: 1,\n    val: 'African American'\n  }, {\n    id: 2,\n    val: 'Asian American'\n  }, {\n    id: 3,\n    val: 'European American / Caucasian'\n  }, {\n    id: 4,\n    val: 'Latinx'\n  }, {\n    id: 5,\n    val: 'Middle Eastern'\n  }, {\n    id: 6,\n    val: 'Native American'\n  }, {\n    id: 7,\n    val: 'Native Hawaiian/Pacific Islander'\n  }, {\n    id: 8,\n    val: 'Mixed Race [2/+ races]'\n  }, {\n    id: 9,\n    val: 'Prefer Not to Say'\n  }];\n  const disabilityList = [{\n    id: 1,\n    val: 'Yes'\n  }, {\n    id: 2,\n    val: 'No'\n  }, {\n    id: 3,\n    val: 'Prefer Not to Say'\n  }];\n  const economicSituationList = [{\n    id: 1,\n    val: 'High income: Very well off, never financial uncertainty'\n  }, {\n    id: 2,\n    val: 'Upper middle income: Well off, no financial uncertainty, significant savings including retirement'\n  }, {\n    id: 3,\n    val: 'Middle income: Moderate financial security, concern for bigger/unexpected items,living expenses covered, minimal savings'\n  }, {\n    id: 4,\n    val: 'Lower middle income: living expenses mostly paid, living paycheck to paycheck, no savings'\n  }, {\n    id: 5,\n    val: 'Low income: Unsure if all bills will be paid, food insecurity, may have been homeless at some point'\n  }, {\n    id: 6,\n    val: 'Prefer Not to Say'\n  }];\n  const [economicSituation, setEconomicSituation] = React.useState('');\n  const childhoodClimateList = [{\n    id: 1,\n    val: 'Mild summers and mild winters'\n  }, {\n    id: 2,\n    val: 'Hot summers and mild winters'\n  }, {\n    id: 3,\n    val: 'Mild summers and severe winters'\n  }, {\n    id: 4,\n    val: 'Hot summers and severe winters'\n  }];\n  const [childhoodClimate, setChildhoodClimate] = React.useState('');\n  const indoorThermalPreferenceList = [{\n    id: 1,\n    val: 'Very Cold'\n  }, {\n    id: 2,\n    val: 'Cold'\n  }, {\n    id: 3,\n    val: 'Cool'\n  }, {\n    id: 4,\n    val: 'Neutral / “Room Temperature”'\n  }, {\n    id: 5,\n    val: 'Warm'\n  }, {\n    id: 6,\n    val: 'Hot'\n  }, {\n    id: 7,\n    val: 'Very Hot'\n  }];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"editprofile-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"top-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SecondaryButton, {\n    onClick: toggleState,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, \"Back\")), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }, \"Edit Notifications\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"editprofile-submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(BaseButton, {\n    width: '300px',\n    onClick: postProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, \"Submit\")));\n}\n\n;\nexport default EditNotifications;","map":{"version":3,"sources":["/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/src/components/EditNotifications/EditNotifications.tsx"],"names":["React","BaseButton","SecondaryButton","pushProfile","getProfile","useAuth","toast","EditNotifications","props","toggleState","currentUser","calPolyStatus","setCalPolyStatus","useState","biologicalSex","setBiologicalSex","genderIdentification","setGenderIdentification","ethnicity","setEthnicity","disability","setDisability","age","setAge","indoorThermalPreference","setIndoorThermalPreference","response","setResponse","useEffect","email","then","document","exists","profileData","data","console","log","setEconomicSituation","economicSituation","setChildhoodClimate","childhoodClimate","catch","error","canSubmit","postProfile","calPolyStatusList","id","val","biologicalSexList","genderIdentificationList","ethnicityList","disabilityList","economicSituationList","childhoodClimateList","indoorThermalPreferenceList"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './EditNotifications.css';\nimport BaseButton from '../BaseButton/BaseButton'\nimport SecondaryButton from \"../../components/SecondaryButton/SecondaryButton\";\nimport { pushProfile, getProfile } from '../../firebaseConfig';\nimport { useAuth } from '../../contexts/AuthContext'\nimport { toast } from '../../toast'\n\n\nfunction EditNotifications(props: any) {\n  const { toggleState } = props;\n  const { currentUser } = useAuth();\n  \n  const [calPolyStatus, setCalPolyStatus] = React.useState('');\n  const [biologicalSex, setBiologicalSex] = React.useState('');\n  const [genderIdentification, setGenderIdentification] = React.useState('');\n  const [ethnicity, setEthnicity] = React.useState('');\n  const [disability, setDisability] = React.useState('');\n  const [age, setAge] = React.useState('');\n  const [indoorThermalPreference, setIndoorThermalPreference] = React.useState('');\n  const [response, setResponse] = React.useState('');\n\n  React.useEffect(() => { //populate with current profile data if any\n    getProfile(currentUser.email).then((document) => {\n      if (document.exists) {\n        const profileData = document.data();\n        console.log(profileData);\n        if (profileData) {\n          setCalPolyStatus(profileData.calPolyStatus);\n          setBiologicalSex(profileData.biologicalSex);\n          setGenderIdentification(profileData.genderIdentification);\n          setEthnicity(profileData.ethnicity);\n          setDisability(profileData.disability);\n          setAge(profileData.age);\n          setEconomicSituation(profileData.economicSituation);\n          setChildhoodClimate(profileData.childhoodClimate);\n          setIndoorThermalPreference(profileData.indoorThermalPreference);\n          setResponse(profileData.response);\n        }\n      }\n    }).catch((error) => {\n      console.error(error);\n    });\n  }, []);\n\n  let canSubmit = true;\n  let profileData: any = {};\n\n  function postProfile() {\n    if (currentUser) {\n      calPolyStatus != '' ? profileData.calPolyStatus = calPolyStatus : canSubmit = false;\n      biologicalSex != '' ? profileData.biologicalSex = biologicalSex : canSubmit = false;\n      genderIdentification != '' ? profileData.genderIdentification = genderIdentification : canSubmit = false;\n      ethnicity != '' ? profileData.ethnicity = ethnicity : canSubmit = false;\n      disability != '' ? profileData.disability = disability : canSubmit = false;\n      age != '' ? profileData.age = age : canSubmit = false;\n      economicSituation != '' ? profileData.economicSituation = economicSituation : canSubmit = false;\n      childhoodClimate != '' ? profileData.childhoodClimate = childhoodClimate : canSubmit = false;\n      indoorThermalPreference != '' ? profileData.indoorThermalPreference = indoorThermalPreference : canSubmit = false;\n      profileData.response = response;\n\n      if(canSubmit){\n        try {\n          pushProfile(profileData, currentUser.email);\n          toast(`Thank you! Profile edited successfully.`);\n        }\n        catch(error) {\n          toast(`Error editing profile: ${error}`);\n        }\n        toggleState();\n      }\n      else {\n        toast('Please answer all of the non-optional questions before submitting.');\n      }\n    }\n  }\n\n  const calPolyStatusList = [\n    {id: 1, val: 'Student'},\n    {id: 2, val: 'Faculty'},\n  ]\n  const biologicalSexList = [\n    {id: 1, val: 'Male'},\n    {id: 2, val: 'Female'},\n    {id: 3, val: 'Intersex'},\n    {id: 4, val: 'Prefer Not to Say'},\n  ]\n  const genderIdentificationList = [\n    {id: 1, val: 'Male'},\n    {id: 2, val: 'Female'},\n    {id: 3, val: 'Non-binary/Genderqueer'},\n    {id: 4, val: 'Gender Fluid'},\n    {id: 5, val: 'Other'},\n    {id: 6, val: 'Prefer Not to Say'},\n  ]\n  const ethnicityList = [\n    {id: 1, val: 'African American'},\n    {id: 2, val: 'Asian American'},\n    {id: 3, val: 'European American / Caucasian'},\n    {id: 4, val: 'Latinx'},\n    {id: 5, val: 'Middle Eastern'},\n    {id: 6, val: 'Native American'},\n    {id: 7, val: 'Native Hawaiian/Pacific Islander'},\n    {id: 8, val: 'Mixed Race [2/+ races]'},\n    {id: 9, val: 'Prefer Not to Say'},\n  ]\n  const disabilityList = [\n    {id: 1, val: 'Yes'},\n    {id: 2, val: 'No'},\n    {id: 3, val: 'Prefer Not to Say'},\n  ]\n  const economicSituationList = [\n    {id: 1, val: 'High income: Very well off, never financial uncertainty'},\n    {id: 2, val: 'Upper middle income: Well off, no financial uncertainty, significant savings including retirement'},\n    {id: 3, val: 'Middle income: Moderate financial security, concern for bigger/unexpected items,living expenses covered, minimal savings'},\n    {id: 4, val: 'Lower middle income: living expenses mostly paid, living paycheck to paycheck, no savings'},\n    {id: 5, val: 'Low income: Unsure if all bills will be paid, food insecurity, may have been homeless at some point'},\n    {id: 6, val: 'Prefer Not to Say'},\n  ]\n  const [economicSituation, setEconomicSituation] = React.useState('');\n\n  const childhoodClimateList = [\n    {id: 1, val: 'Mild summers and mild winters'},\n    {id: 2, val: 'Hot summers and mild winters'},\n    {id: 3, val: 'Mild summers and severe winters'},\n    {id: 4, val: 'Hot summers and severe winters'},\n  ]\n  const [childhoodClimate, setChildhoodClimate] = React.useState('');\n\n  const indoorThermalPreferenceList = [\n    {id: 1, val: 'Very Cold'},\n    {id: 2, val: 'Cold'},\n    {id: 3, val: 'Cool'},\n    {id: 4, val: 'Neutral / “Room Temperature”'},\n    {id: 5, val: 'Warm'},\n    {id: 6, val: 'Hot'},\n    {id: 7, val: 'Very Hot'},\n  ]\n\n  return (\n    <div className=\"editprofile-container\">\n      <div className=\"top-buttons\">\n            <SecondaryButton onClick={toggleState}>Back</SecondaryButton>\n        </div>\n      <h1>Edit Notifications</h1>\n      <div className='editprofile-submit'>\n        <BaseButton width={'300px'} onClick={postProfile}>Submit</BaseButton>\n      </div>\n    </div>\n  )\n};\n\nexport default EditNotifications"]},"metadata":{},"sourceType":"module"}