{"ast":null,"code":"var _jsxFileName = \"/Users/gabehyun/Desktop/Classes/ThermalComfort/CPTC-Research/thermalComfortApp/src/Pages/SurveyPage/SurveyPage.tsx\";\nimport { IonContent, IonHeader, IonPage, IonTitle, IonToolbar, IonBackButton, IonItem, IonButtons, IonButton, IonInput, IonCard, IonCardHeader, IonCardContent, IonCardTitle, IonLabel, IonSelect, IonSelectOption } from '@ionic/react';\nimport React from 'react';\nimport \"./Survey.css\";\nimport { pushData } from '../../firebaseConfig';\n\nvar request = require('request');\n\nconst Survey = ({\n  history,\n  location\n}) => {\n  const state = location.state;\n  let surveyData = {};\n  const sensationOptions = [{\n    id: 1,\n    first: 'Cold'\n  }, {\n    id: 2,\n    first: 'Cool'\n  }, {\n    id: 3,\n    first: 'Slightly Cool'\n  }, {\n    id: 4,\n    first: 'Neutral'\n  }, {\n    id: 5,\n    first: 'Slightly Warm'\n  }, {\n    id: 6,\n    first: 'Warm'\n  }, {\n    id: 7,\n    first: 'Hot'\n  }];\n  let breezy = [\"Too breezy\", \"Slightly breezy\", \"Not breezy\"];\n  let breezyOptions = [];\n\n  for (let i = 0; i < breezy.length; i++) {\n    breezyOptions.push({\n      id: i + 1,\n      first: breezy[i]\n    });\n  }\n\n  let humiditySensation = [\"Too dry\", \"Slightly dry\", \"Just right\", \"Slightly humid\", \"Too humid\"];\n  let humiditySensationOptions = [];\n\n  for (let i = 0; i < humiditySensation.length; i++) {\n    humiditySensationOptions.push({\n      id: i + 1,\n      first: humiditySensation[i]\n    });\n  }\n\n  let thermalPreference = [\"Cooler\", \"No Change\", \"Warmer\"];\n  let thermalPreferenceOptions = [];\n\n  for (let i = 0; i < thermalPreference.length; i++) {\n    thermalPreferenceOptions.push({\n      id: i + 1,\n      first: thermalPreference[i]\n    });\n  }\n\n  let clothing = [\"Short-sleeve shirt\", \"Long-sleeve shirt\", \"Shorts\", \"Long pants\", \"Short skirt\", \"Long skirt\", \"Sweatpants\", \"Long-sleeve sweatshirt\", \"Jacket\", \"Typical summer indoor clothing\", \"Typical winter indoor clothing\"];\n  let clothingOptions = [];\n\n  for (let i = 0; i < clothing.length; i++) {\n    clothingOptions.push({\n      id: i + 1,\n      first: clothing[i]\n    });\n  }\n\n  let recentAction = [\"Sitting\", \"Standing\", \"Walking\", \"Jogging\", \"Running\"];\n  let recentActionOptions = [];\n\n  for (let i = 0; i < recentAction.length; i++) {\n    recentActionOptions.push({\n      id: i + 1,\n      first: recentAction[i]\n    });\n  }\n\n  function selectBuildingNumber(e) {\n    surveyData.buildingNumber = e.detail.value;\n  }\n\n  function selectRoomNumber(e) {\n    surveyData.roomNumber = e.detail.value;\n  }\n\n  function selectThermalSensation(e) {\n    surveyData.thermalSensation = e.detail.value;\n  }\n\n  function selectThermalPreference(e) {\n    surveyData.thermalPreference = e.detail.value;\n  }\n\n  function selectBreezy(e) {\n    surveyData.breezy = e.detail.value;\n  }\n\n  function selectHumiditySensation(e) {\n    surveyData.humiditySensation = e.detail.value;\n  }\n\n  function selectClothing(e) {\n    surveyData.clothing = e.detail.value;\n  }\n\n  function selectRecentAction(e) {\n    surveyData.recentAction = e.detail.value;\n  }\n\n  function postData() {\n    if (state.uid) {\n      pushData(surveyData, state.uid);\n      history.push('/surveyComplete');\n    }\n  }\n\n  function getWeatherData(e) {\n    let apiKey = 'a28b0237f94d95bbd08c26352f7c7bdb';\n    let city = e.detail.value;\n    let url = `http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}`;\n    request(url, function (err, response, body) {\n      if (err) {\n        return;\n      } else {\n        if (body.cod !== \"404\") {\n          let weatherData = JSON.parse(body);\n\n          if (weatherData.main) {\n            surveyData.temp = weatherData.main.temp;\n            surveyData.windspeed = weatherData.wind.speed;\n            surveyData.humidity = weatherData.main.humidity;\n          }\n        }\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonBackButton, {\n    defaultHref: \"/landingPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(IonTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, \"Survey\"))), /*#__PURE__*/React.createElement(IonContent, {\n    className: \"ion-padding\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonCard, {\n    className: \"surveyCard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonCardHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonCardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }, \"Thermal Questions\")), /*#__PURE__*/React.createElement(IonCardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"stacked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  }, \" What building are you in?\"), /*#__PURE__*/React.createElement(IonInput, {\n    placeholder: \"Input number (i.e. 01)\",\n    inputmode: \"numeric\",\n    onIonChange: e => selectBuildingNumber(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"stacked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 15\n    }\n  }, \" What room are you in? \"), /*#__PURE__*/React.createElement(IonInput, {\n    placeholder: \"Input number (i.e. 0123)\",\n    inputmode: \"numeric\",\n    onIonChange: e => selectRoomNumber(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"stacked\",\n    className: \"questionLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }\n  }, \"How does the temperature feel? \"), /*#__PURE__*/React.createElement(IonSelect, {\n    className: \"questionSelect\",\n    placeholder: \"Select one\",\n    onIonChange: e => selectThermalSensation(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, sensationOptions.map((object, i) => {\n    return /*#__PURE__*/React.createElement(IonSelectOption, {\n      onSelect: selectThermalSensation,\n      key: i,\n      value: object.first,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }\n    }, object.first);\n  }))), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"stacked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }, \" How would you prefer the temperature to feel? \"), /*#__PURE__*/React.createElement(IonSelect, {\n    placeholder: \"Select one\",\n    onIonChange: e => selectThermalPreference(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }\n  }, thermalPreferenceOptions.map((object, i) => {\n    return /*#__PURE__*/React.createElement(IonSelectOption, {\n      key: i,\n      value: object.first,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }\n    }, object.first);\n  }))), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"stacked\",\n    className: \"surveyLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 15\n    }\n  }, \" How breezy does it feel? \"), /*#__PURE__*/React.createElement(IonSelect, {\n    placeholder: \"Select one\",\n    onIonChange: e => selectBreezy(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }, breezyOptions.map((object, i) => {\n    return /*#__PURE__*/React.createElement(IonSelectOption, {\n      key: i,\n      value: object.first,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }\n    }, object.first);\n  }))), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"stacked\",\n    className: \"surveyLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 15\n    }\n  }, \" How humid do you feel? \"), /*#__PURE__*/React.createElement(IonSelect, {\n    placeholder: \"Select one\",\n    onIonChange: e => selectHumiditySensation(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }\n  }, humiditySensationOptions.map((object, i) => {\n    return /*#__PURE__*/React.createElement(IonSelectOption, {\n      key: i,\n      value: object.first,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }\n    }, object.first);\n  }))), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"stacked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 15\n    }\n  }, \" What clothing are you wearing? \"), /*#__PURE__*/React.createElement(IonSelect, {\n    multiple: true,\n    placeholder: \"Select all that apply\",\n    onIonChange: e => selectClothing(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }, clothingOptions.map((object, i) => {\n    return /*#__PURE__*/React.createElement(IonSelectOption, {\n      key: i,\n      value: object.first,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }\n    }, object.first);\n  }))), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"stacked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 15\n    }\n  }, \" What activities have you performed in the last 10 minutes?\"), /*#__PURE__*/React.createElement(IonSelect, {\n    multiple: true,\n    placeholder: \"Select all that apply\",\n    onIonChange: e => selectRecentAction(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 13\n    }\n  }, recentActionOptions.map((object, i) => {\n    return /*#__PURE__*/React.createElement(IonSelectOption, {\n      key: i,\n      value: object.first,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }\n    }, object.first);\n  })))), /*#__PURE__*/React.createElement(IonButton, {\n    className: \"SubmitButton\",\n    onClick: postData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 11\n    }\n  }, \"Submit\"))));\n};\n\nexport default Survey;","map":{"version":3,"sources":["/Users/gabehyun/Desktop/Classes/ThermalComfort/CPTC-Research/thermalComfortApp/src/Pages/SurveyPage/SurveyPage.tsx"],"names":["IonContent","IonHeader","IonPage","IonTitle","IonToolbar","IonBackButton","IonItem","IonButtons","IonButton","IonInput","IonCard","IonCardHeader","IonCardContent","IonCardTitle","IonLabel","IonSelect","IonSelectOption","React","pushData","request","require","Survey","history","location","state","surveyData","sensationOptions","id","first","breezy","breezyOptions","i","length","push","humiditySensation","humiditySensationOptions","thermalPreference","thermalPreferenceOptions","clothing","clothingOptions","recentAction","recentActionOptions","selectBuildingNumber","e","buildingNumber","detail","value","selectRoomNumber","roomNumber","selectThermalSensation","thermalSensation","selectThermalPreference","selectBreezy","selectHumiditySensation","selectClothing","selectRecentAction","postData","uid","getWeatherData","apiKey","city","url","err","response","body","cod","weatherData","JSON","parse","main","temp","windspeed","wind","speed","humidity","map","object"],"mappings":"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","sourcesContent":["import { IonContent, IonHeader, IonPage, IonTitle, IonToolbar, IonBackButton,\nIonItem, IonButtons, IonButton, IonInput, IonCard,\nIonCardHeader, IonCardContent, IonCardTitle, IonLabel, IonSelect,\nIonSelectOption } from '@ionic/react';\nimport React from 'react';\nimport \"./Survey.css\";\nimport { RouteComponentProps } from 'react-router';\nimport { pushData } from '../../firebaseConfig';\nvar request = require('request');\n\nconst Survey: React.FC<RouteComponentProps> = ({history, location}) => {\n\n    const state: any = location.state;\n\n    let surveyData: any = {};\n\n    const sensationOptions = [\n        {\n            id: 1,\n            first: 'Cold',\n        },\n        {\n            id: 2,\n            first: 'Cool',\n        },\n        {\n            id: 3,\n            first: 'Slightly Cool',\n        },\n        {\n            id: 4,\n            first: 'Neutral',\n        },\n        {\n            id: 5,\n            first: 'Slightly Warm',\n        },\n        {\n            id: 6,\n            first: 'Warm',\n        },\n        {\n            id: 7,\n            first:  'Hot',\n        },\n    ];\n\n    let breezy = [\"Too breezy\", \"Slightly breezy\", \"Not breezy\"];\n    let breezyOptions = [];\n    for (let i = 0; i < breezy.length; i++) {\n        breezyOptions.push({id: i +1, first: breezy[i]});\n    }\n\n    let humiditySensation = [\"Too dry\", \"Slightly dry\", \"Just right\", \"Slightly humid\", \"Too humid\"];\n    let humiditySensationOptions = [];\n    for (let i = 0; i < humiditySensation.length; i++) {\n        humiditySensationOptions.push({id: i+1, first: humiditySensation[i]});\n    }\n\n    let thermalPreference = [\"Cooler\", \"No Change\", \"Warmer\"];\n    let thermalPreferenceOptions = [];\n    for (let i = 0; i < thermalPreference.length; i++) {\n        thermalPreferenceOptions.push({id: i+1, first: thermalPreference[i]});\n    }\n\n    let clothing = [\n        \"Short-sleeve shirt\",\n        \"Long-sleeve shirt\",\n        \"Shorts\",\n        \"Long pants\",\n        \"Short skirt\",\n        \"Long skirt\",\n        \"Sweatpants\",\n        \"Long-sleeve sweatshirt\",\n        \"Jacket\",\n        \"Typical summer indoor clothing\",\n        \"Typical winter indoor clothing\"\n    ];\n\n    let clothingOptions = [];\n    for (let i = 0 ; i < clothing.length; i++) {\n        clothingOptions.push({id: i+1, first: clothing[i]});\n    }\n\n    let recentAction = [\n        \"Sitting\",\n        \"Standing\",\n        \"Walking\",\n        \"Jogging\",\n        \"Running\",\n    ];\n\n    let recentActionOptions = [];\n    for (let i = 0 ; i < recentAction.length; i++) {\n        recentActionOptions.push({id: i+1, first: recentAction[i]});\n    }\n\n    function selectBuildingNumber(e:any) {\n        surveyData.buildingNumber = e.detail.value;\n    }\n\n    function selectRoomNumber(e:any) {\n        surveyData.roomNumber = e.detail.value;\n    }\n\n    function selectThermalSensation(e:any) {\n        surveyData.thermalSensation = e.detail.value;\n    }\n\n    function selectThermalPreference(e:any) {\n        surveyData.thermalPreference = e.detail.value;\n    }\n\n    function selectBreezy(e:any) {\n        surveyData.breezy = e.detail.value;\n    }\n\n    function selectHumiditySensation(e:any) {\n        surveyData.humiditySensation = e.detail.value;\n    }\n\n    function selectClothing(e:any) {\n        surveyData.clothing = e.detail.value;\n    }\n\n    function selectRecentAction(e:any) {\n        surveyData.recentAction = e.detail.value;\n    }\n\n    function postData() {\n        if (state.uid) {\n            pushData(surveyData, state.uid);\n            history.push('/surveyComplete')\n        }\n    }\n\n    function getWeatherData(e:any){\n        let apiKey = 'a28b0237f94d95bbd08c26352f7c7bdb';\n        let city = e.detail.value;\n        let url = `http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}`\n        request(url, function (err:any, response:any, body:any) {\n            if(err){\n                return;\n            } else {\n              if (body.cod !== \"404\") {\n                let weatherData = JSON.parse(body);\n                if (weatherData.main) {\n                    surveyData.temp = weatherData.main.temp;\n                    surveyData.windspeed = weatherData.wind.speed;\n                    surveyData.humidity = weatherData.main.humidity;\n                }\n              }\n            }\n          });\n    }\n\n  return (\n  <IonPage>\n    <IonHeader>\n      <IonToolbar>\n        <IonButtons slot=\"start\">\n            <IonBackButton defaultHref=\"/landingPage\" />\n        </IonButtons>\n        <IonTitle>Survey</IonTitle>\n      </IonToolbar>\n    </IonHeader>\n    <IonContent className=\"ion-padding\">\n    <IonCard className=\"surveyCard\">\n        <IonCardHeader>\n          <IonCardTitle>\n            Thermal Questions\n          </IonCardTitle>\n        </IonCardHeader>\n        <IonCardContent>\n          <IonItem>\n              <IonLabel position=\"stacked\"> What building are you in?</IonLabel>\n                <IonInput placeholder=\"Input number (i.e. 01)\" inputmode=\"numeric\" onIonChange= {e => selectBuildingNumber(e)}></IonInput>\n          </IonItem>\n\n          <IonItem>\n              <IonLabel position=\"stacked\"> What room are you in? </IonLabel>\n                <IonInput placeholder=\"Input number (i.e. 0123)\" inputmode=\"numeric\" onIonChange= {e => selectRoomNumber(e)}></IonInput>\n          </IonItem>\n\n          <IonItem>\n            <IonLabel position=\"stacked\" className=\"questionLabel\">How does the temperature feel? </IonLabel>\n            <IonSelect className=\"questionSelect\" placeholder=\"Select one\" onIonChange={e => selectThermalSensation(e)}>\n            {sensationOptions.map((object, i) => {\n                return (\n                <IonSelectOption  onSelect={selectThermalSensation} key={i} value={object.first}>\n                    {object.first}\n                </IonSelectOption>\n                );\n            })}\n            </IonSelect>\n          </IonItem>\n\n          <IonItem>\n              <IonLabel position=\"stacked\"> How would you prefer the temperature to feel? </IonLabel>\n            <IonSelect placeholder=\"Select one\" onIonChange={e => selectThermalPreference(e)}>\n            {thermalPreferenceOptions.map((object, i) => {\n                return (\n                <IonSelectOption key={i} value={object.first}>\n                    {object.first}\n                </IonSelectOption>\n                );\n            })}\n            </IonSelect>\n          </IonItem>\n\n          <IonItem>\n              <IonLabel position=\"stacked\" className=\"surveyLabel\"> How breezy does it feel? </IonLabel>\n            <IonSelect placeholder=\"Select one\" onIonChange={e => selectBreezy(e)}>\n            {breezyOptions.map((object, i) => {\n                return (\n                <IonSelectOption key={i} value={object.first}>\n                    {object.first}\n                </IonSelectOption>\n                );\n            })}\n            </IonSelect>\n          </IonItem>\n\n          <IonItem>\n              <IonLabel position=\"stacked\" className=\"surveyLabel\"> How humid do you feel? </IonLabel>\n            <IonSelect placeholder=\"Select one\" onIonChange={e => selectHumiditySensation(e)}>\n            {humiditySensationOptions.map((object, i) => {\n                return (\n                <IonSelectOption key={i} value={object.first}>\n                    {object.first}\n                </IonSelectOption>\n                );\n            })}\n            </IonSelect>\n          </IonItem>\n\n          <IonItem>\n              <IonLabel position=\"stacked\"> What clothing are you wearing? </IonLabel>\n            <IonSelect multiple={true} placeholder=\"Select all that apply\" onIonChange={e => selectClothing(e)}>\n            {clothingOptions.map((object, i) => {\n                return (\n                <IonSelectOption key={i} value={object.first}>\n                    {object.first}\n                </IonSelectOption>\n                );\n            })}\n            </IonSelect>\n          </IonItem>\n\n          <IonItem>\n              <IonLabel position=\"stacked\"> What activities have you performed in the last 10 minutes?</IonLabel>\n            <IonSelect multiple={true} placeholder=\"Select all that apply\" onIonChange={e => selectRecentAction(e)}>\n            {recentActionOptions.map((object, i) => {\n                return (\n                <IonSelectOption key={i} value={object.first}>\n                    {object.first}\n                </IonSelectOption>\n                );\n            })}\n            </IonSelect>\n          </IonItem>\n\n          </IonCardContent>\n          <IonButton className=\"SubmitButton\" onClick={postData}>\n              Submit\n          </IonButton>\n\n      </IonCard>\n    </IonContent>\n  </IonPage>\n);\n\n};\n\nexport default Survey;"]},"metadata":{},"sourceType":"module"}